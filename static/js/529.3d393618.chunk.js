"use strict";(self.webpackChunkterafly=self.webpackChunkterafly||[]).push([[529],{13529:function(e,a,r){r.r(a),r.d(a,{default:function(){return G}});var n=r(74165),s=r(15861),i=r(29439),l=r(47313),t=r(95143),o=r(24511),d=r(75627),c=r(1432),u=r(41905),m=r(6473),v=[{value:"male",key:"male"},{value:"female",key:"female"},{value:"non binary",key:"unchecked"},{value:"prefer not to say",key:"private"}],p=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\s).{8,15}$/,h=("".concat(u.Z.t(t.y0.popular)),"".concat(u.Z.t(t.y0.popular)),"".concat(u.Z.t(t.y0.recent)),"".concat(u.Z.t(t.y0.recent)),m.Ry().shape({newPassword:m.Z_().required().matches(p),confirmPassword:m.Z_().oneOf([m.iH("newPassword"),void 0],u.Z.t(t.N3.validate_password_not_match))}),m.Ry().shape({email:m.Z_().required().min(5),code:m.Z_().required().min(5)}),m.Ry().shape({userEmail:m.Z_().required().email(),codeOTP:m.Z_().required().min(6)}),m.Ry().shape({userEmail:m.Z_().required().email(),userPassword:m.Z_().required(u.Z.t(t.N3.er_change_password))}),m.Ry().shape({userEmail:m.Z_().required().email(),userPassword:m.Z_().required().matches(p),userPassword_confirmation:m.Z_().oneOf([m.iH("userPassword"),void 0],u.Z.t(t.N3.validate_password_not_match)),terms_of_use:m.O7().required().isTrue(),privacy_policy:m.O7().required().isTrue()}),m.Ry().shape({userEmail:m.Z_().email().required(),codeOTP:m.Z_().required().min(6)}),m.Ry().shape({survey:m.IX().required()}),m.Ry().shape({userName:m.Z_().required(),userDOB:m.hT().required(),userGender:m.Z_().required().min(0),nation:m.Z_().required()}),m.Ry().shape({userName:m.Z_().required(),userDOB:m.hT()})),_=r(52240),f=r(9346),Z=r(3234),x=r(75821),j=r(59491),y=r(82508),N=r(70816),w=r.n(N),b=r(1413),g=r(81289),q=r(62114),k=(r(41971),r(46417)),C=function(e){return(0,k.jsx)(g.Z,(0,b.Z)((0,b.Z)({},e),{},{locale:"korean"===u.Z.language?q.Z:void 0,className:"input_ant_ct w-100 ".concat(e.className||""," ").concat(e.placeholderBlack?"placeholder_black":""),suffixIcon:(0,k.jsx)("div",{className:"icon_down"})}))},O=r(79456),R=r(66376),E=r(38616),P=r(1084),T=r(39548),B=r(10392),F=r(33928),Q=function(e){var a=e.value,r=e.name,n=e.onChange,s=(0,l.useRef)(null),t=(0,l.useState)(a),o=(0,i.Z)(t,2),d=o[0],c=o[1];return(0,k.jsxs)("div",{className:"avatar_area",children:[(0,k.jsx)(F.Z,{src:d,icon:(0,k.jsx)(T.Z,{}),className:"avatar"}),(0,k.jsx)(j.Z,{shape:"circle",icon:(0,k.jsx)(B.Z,{className:"iconBtnUpload"}),className:"buttonUpload",onClick:function(){s&&s.current.click()}}),(0,k.jsx)("input",{ref:s,className:"hiden w-100 buttonUpload",type:"file",id:"filePicker",name:r,accept:".jpg, .jpeg, .png",multiple:!0,onChange:function(e){var a=e.target.files[0];if(a){var r=URL.createObjectURL(a);c(r),n(a)}}})]})},S=r(57019),V=r(61724),D=r(26170),G=(0,P.$j)((function(e){return{account:E.w.account.select(e)}}))((function(e){var a,r=e.account,u=(0,o.$)(),m=(0,i.Z)(u,1)[0],p=(0,d.cI)({resolver:(0,c.X)(h),defaultValues:{avatar:(null===r||void 0===r?void 0:r.avatar)||"",userName:(null===r||void 0===r?void 0:r.userName)||"",userDOB:(null===r||void 0===r?void 0:r.userDOB)||void 0,userGender:(null===r||void 0===r?void 0:r.userGender)||null,nation:(null===r||void 0===r||null===(a=r.nation)||void 0===a?void 0:a._id)||null}}),N=p.control,b=p.setValue,g=p.handleSubmit,q=p.formState.errors,E=(0,l.useState)(!1),P=(0,i.Z)(E,2),T=P[0],B=P[1],F=(0,l.useState)(),G=(0,i.Z)(F,2),I=G[0],U=G[1];(0,l.useEffect)((function(){(0,s.Z)((0,n.Z)().mark((function e(){var a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.Q.getAreaCode();case 2:(a=e.sent)&&U(a);case 4:case"end":return e.stop()}}),e)})))()}),[]),(0,l.useEffect)((function(){var e,a;null!==(e=q.userName)&&void 0!==e&&e.message&&V.Z.error(null===(a=q.userName)||void 0===a?void 0:a.message)}),[q]);var A=function(){var e=(0,s.Z)((0,n.Z)().mark((function e(a){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B(!0),e.next=3,R.Z.dispatch((0,S.Nq)(a));case 3:(r=e.sent)&&b("avatar",r.avatar),B(!1);case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return(0,k.jsxs)("div",{className:"view inline",children:[(0,k.jsx)(D.Z,{title:m(t.y0.edit_profile)}),(0,k.jsxs)("div",{className:"my_page_edit",children:[(0,k.jsx)("div",{className:"title",children:m(t.y0.edit_profile)}),(0,k.jsxs)("form",{onSubmit:g(A),className:"w-100 form_edit",children:[(0,k.jsx)("div",{className:"avatar_area",children:(0,k.jsx)(d.Qr,{control:N,name:"avatar",render:function(e){var a=e.field,n=a.name,s=a.onChange,i=a.value;return(0,k.jsx)(Q,{value:i,name:n,onChange:s,account:r})},defaultValue:(null===r||void 0===r?void 0:r.avatar)||""})}),(0,k.jsx)("div",{className:"subTitle",children:m(t.y0.basic_information2)}),(0,k.jsxs)(Z.Z,{className:"list_form",gutter:16,children:[(0,k.jsx)(x.Z,{xs:{span:24},md:{span:24},children:(0,k.jsx)(d.Qr,{control:N,name:"userName",render:function(e){var a=e.field,r=a.name,n=a.onChange,s=a.value;return(0,k.jsxs)("div",{className:"imput_form",children:[(0,k.jsx)("label",{htmlFor:r,children:m(t.y0.name)}),(0,k.jsx)(_.Z,{id:r,allowClear:!0,bordered:!1,value:s,name:r,onChange:n,placeholder:m(t.y0.name),className:"w-100 input_ant_ct_2"})]})}})}),(0,k.jsx)(x.Z,{xs:{span:24},md:{span:14},children:(0,k.jsx)(d.Qr,{control:N,name:"userDOB",render:function(e){var a=e.field,r=a.name,n=a.onChange,s=a.value;return(0,k.jsxs)("div",{className:"imput_form",children:[(0,k.jsx)("label",{htmlFor:r,children:m(t.y0.birth_date)}),(0,k.jsx)(C,{id:r,allowClear:!1,bordered:!1,name:r,className:"h-100 input_ant_ct_2",placeholder:m(t.y0.birth_date),onChange:n,value:s?w()(s):void 0})]})}})}),(0,k.jsx)(x.Z,{xs:{span:24},md:{span:10},children:(0,k.jsx)(d.Qr,{control:N,name:"userGender",render:function(e){var a=e.field,n=a.name,s=a.value;return(0,k.jsxs)("div",{className:"imput_form",children:[(0,k.jsx)("label",{htmlFor:n,children:m(t.y0.gender)}),(0,k.jsx)(f.Z,{id:n,bordered:!1,value:s,className:"select_ant_ct_2 w-100",onChange:function(e){b(n,e,{shouldValidate:!0})},suffixIcon:(0,k.jsx)("div",{className:"icon_down"}),dropdownClassName:"dropdown_ant_ct",children:v.map((function(e){return(0,k.jsx)(f.Z.Option,{selected:e.value===(null===r||void 0===r?void 0:r.userGender)===null,value:e.value,children:m(t.iF[e.key])},e.key)}))})]})}})}),(0,k.jsx)(x.Z,{xs:{span:24},md:{span:8},children:(0,k.jsx)(d.Qr,{control:N,name:"nation",render:function(e){var a=e.field,r=a.name,n=a.value;return(0,k.jsxs)("div",{className:"imput_form",children:[(0,k.jsx)("label",{htmlFor:r,children:m(t.y0.nationality)}),(0,k.jsx)(f.Z,{id:r,bordered:!1,value:n,className:"select_ant_ct_2 w-100",onChange:function(e){b(r,e,{shouldValidate:!0})},placeholder:m(t.y0.nationality),suffixIcon:I?(0,k.jsx)("div",{className:"icon_down"}):(0,k.jsx)(y.Z,{className:"iconloading",spin:!0}),dropdownClassName:"dropdown_ant_ct",disabled:!I,children:I?I.map((function(e){return(0,k.jsx)(f.Z.Option,{value:e._id,classNam:"nation_item",children:e.name},e._id)})):(0,k.jsx)(k.Fragment,{})})]})}})}),(0,k.jsx)(x.Z,{xs:{span:24},md:{span:16},children:(0,k.jsxs)("div",{className:"imput_form",children:[(0,k.jsx)("label",{htmlFor:"userEmail",children:m(t.y0.email)}),(0,k.jsx)(_.Z,{disabled:!0,id:"userEmail",type:"email",allowClear:!0,bordered:!1,value:null===r||void 0===r?void 0:r.userEmail,defaultValue:null===r||void 0===r?void 0:r.userEmail,placeholder:m(t.y0.email),className:"w-100 input_ant_ct_2 h-100"})]})}),(0,k.jsx)(j.Z,{loading:T,color:"primary",disabled:!I,className:"w-100 button_ant_ct button_edit_detail",htmlType:"submit",type:"primary",children:m(t.y0.modifications_completed)})]})]})]})]})}))}}]);